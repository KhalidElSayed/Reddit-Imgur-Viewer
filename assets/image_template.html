<html>
<head>
<style>
* {
	margin: 0px;
	padding: 0px;
}

img {
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;
	right: 0;
	margin: auto;
}
</style>

<script>
	window.onload = function() {
		image = document.getElementById('image');
		loading = document.getElementById('loading');
		image.onload = function() {
			showLoading(false);
		};
	};

	function loadImage(src, maxWidth, maxHeight) {
		showLoading(true);
		image.src = ''; // force reload
		image.src = src;
		image.style.maxWidth = maxWidth;
		image.style.maxHeight = maxHeight;
	}

	function showLoading(isLoading) {
		if (isLoading) {
			image.style.display = 'none';
			loading.style.display = 'block';
		} else {
			image.style.display = 'block';
			loading.style.display = 'none';
		}
	}
</script>
</head>

<body>
<img id='image'>
<img id='loading' src='loading.gif'>
</body>
</html>